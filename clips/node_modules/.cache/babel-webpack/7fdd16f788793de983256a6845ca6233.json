{"ast":null,"code":"import _asyncToGenerator from \"C:/Users/stavsa/Documents/Angular-/clips/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\nimport { FormGroup, FormControl, Validators } from \"@angular/forms\";\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/fire/compat/auth\";\nimport * as i2 from \"@angular/fire/compat/firestore\";\nimport * as i3 from \"@angular/common\";\nimport * as i4 from \"@angular/forms\";\nimport * as i5 from \"../../shared/input/input.component\";\nimport * as i6 from \"../../shared/alert/alert.component\";\n\nfunction RegisterComponent_app_alert_0_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"app-alert\", 11);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const ctx_r0 = i0.ɵɵnextContext();\n    i0.ɵɵproperty(\"color\", ctx_r0.alertColor);\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\" \", ctx_r0.alertMsg, \"\\n\");\n  }\n}\n\nexport class RegisterComponent {\n  constructor(auth, db) {\n    this.auth = auth;\n    this.db = db;\n    this.isSubmission = false;\n    this.name = new FormControl(\"\", [Validators.required, Validators.minLength(3)]);\n    this.email = new FormControl(\"\", [Validators.required, Validators.email]);\n    this.age = new FormControl(\"\", [Validators.required, Validators.min(18), Validators.max(120)]);\n    this.password = new FormControl(\"\", [Validators.required, Validators.pattern(/^(?=.*\\d)(?=.*[a-z])(?=.*[A-Z])(?=.*[a-zA-Z]).{8,}$/gm)]);\n    this.confirm_password = new FormControl(\"\", [Validators.required]);\n    this.phone = new FormControl(\"\");\n    this.phoneNumber = new FormControl(\"\", [Validators.required, Validators.minLength(13), Validators.maxLength(13)]);\n    this.showAlert = false;\n    this.alertMsg = \"Please wait! Your account is being created.\";\n    this.alertColor = \"blue\";\n    this.registerForm = new FormGroup({\n      name: this.name,\n      email: this.email,\n      age: this.age,\n      password: this.password,\n      confirm_password: this.confirm_password,\n      phone: this.phone\n    });\n  }\n\n  register() {\n    var _this = this;\n\n    return _asyncToGenerator(function* () {\n      _this.showAlert = true;\n      _this.alertMsg = \"Please wait! Your account is being created.\";\n      _this.alertColor = \"blue\";\n      _this.isSubmission = true;\n      const {\n        email,\n        password\n      } = _this.registerForm.value;\n\n      try {\n        const userCred = yield _this.auth.createUserWithEmailAndPassword(email, password);\n        yield _this.db.collection('users').add({\n          name: _this.name,\n          email: _this.email.value,\n          age: _this.age.value,\n          phoneNumber: _this.phoneNumber.value\n        });\n      } catch (e) {\n        console.error(e);\n        _this.alertMsg = \"An unexpected error occurred. Please try again later!\";\n        _this.alertColor = \"red\";\n        _this.isSubmission = false;\n        return;\n      }\n\n      _this.alertMsg = \"Success Your account has been created!\";\n      _this.alertColor = \"green\";\n    })();\n  }\n\n}\n\nRegisterComponent.ɵfac = function RegisterComponent_Factory(t) {\n  return new (t || RegisterComponent)(i0.ɵɵdirectiveInject(i1.AngularFireAuth), i0.ɵɵdirectiveInject(i2.AngularFirestore));\n};\n\nRegisterComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: RegisterComponent,\n  selectors: [[\"app-register\"]],\n  decls: 28,\n  vars: 9,\n  consts: [[3, \"color\", 4, \"ngIf\"], [3, \"formGroup\", \"ngSubmit\"], [1, \"mb-3\"], [1, \"inline-block\", \"mb-2\"], [\"placeholder\", \"Enter Name\", 3, \"control\"], [\"placeholder\", \"Enter Email\", \"type\", \"email\", 3, \"control\"], [\"type\", \"number\", \"placeholder\", \"Enter Age\", 3, \"control\"], [\"type\", \"password\", \"placeholder\", \"Enter your password\", 3, \"control\"], [\"type\", \"password\", \"placeholder\", \"Confirm your password\", 3, \"control\"], [\"format\", \"(000)000-0000\", \"placeholder\", \"Enter your phone number\", 3, \"control\"], [\"type\", \"submit\", 1, \"block\", \"w-full\", \"bg-indigo-400\", \"text-white\", \"py-1.5\", \"px-3\", \"rounded\", \"transition\", \"hover:bg-indigo-500\", \"disabled:opacity-50\", \"disabled:bg-indigo-400\", 3, \"disabled\"], [3, \"color\"]],\n  template: function RegisterComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵtemplate(0, RegisterComponent_app_alert_0_Template, 2, 2, \"app-alert\", 0);\n      i0.ɵɵelementStart(1, \"form\", 1);\n      i0.ɵɵlistener(\"ngSubmit\", function RegisterComponent_Template_form_ngSubmit_1_listener() {\n        return ctx.register();\n      });\n      i0.ɵɵelementStart(2, \"div\", 2);\n      i0.ɵɵelementStart(3, \"label\", 3);\n      i0.ɵɵtext(4, \"Name\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelement(5, \"app-input\", 4);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(6, \"div\", 2);\n      i0.ɵɵelementStart(7, \"label\", 3);\n      i0.ɵɵtext(8, \"Email\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelement(9, \"app-input\", 5);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(10, \"div\", 2);\n      i0.ɵɵelementStart(11, \"label\", 3);\n      i0.ɵɵtext(12, \"Age\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelement(13, \"app-input\", 6);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(14, \"div\", 2);\n      i0.ɵɵelementStart(15, \"label\", 3);\n      i0.ɵɵtext(16, \"Password\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelement(17, \"app-input\", 7);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(18, \"div\", 2);\n      i0.ɵɵelementStart(19, \"label\", 3);\n      i0.ɵɵtext(20, \"Confirm Password\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelement(21, \"app-input\", 8);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(22, \"div\", 2);\n      i0.ɵɵelementStart(23, \"label\", 3);\n      i0.ɵɵtext(24, \"Phone Number\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelement(25, \"app-input\", 9);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(26, \"button\", 10);\n      i0.ɵɵtext(27, \" Submit \");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n    }\n\n    if (rf & 2) {\n      i0.ɵɵproperty(\"ngIf\", ctx.showAlert);\n      i0.ɵɵadvance(1);\n      i0.ɵɵproperty(\"formGroup\", ctx.registerForm);\n      i0.ɵɵadvance(4);\n      i0.ɵɵproperty(\"control\", ctx.name);\n      i0.ɵɵadvance(4);\n      i0.ɵɵproperty(\"control\", ctx.email);\n      i0.ɵɵadvance(4);\n      i0.ɵɵproperty(\"control\", ctx.age);\n      i0.ɵɵadvance(4);\n      i0.ɵɵproperty(\"control\", ctx.password);\n      i0.ɵɵadvance(4);\n      i0.ɵɵproperty(\"control\", ctx.confirm_password);\n      i0.ɵɵadvance(4);\n      i0.ɵɵproperty(\"control\", ctx.phone);\n      i0.ɵɵadvance(1);\n      i0.ɵɵproperty(\"disabled\", ctx.registerForm.invalid || ctx.isSubmission);\n    }\n  },\n  directives: [i3.NgIf, i4.ɵNgNoValidate, i4.NgControlStatusGroup, i4.FormGroupDirective, i5.InputComponent, i6.AlertComponent],\n  styles: [\"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJyZWdpc3Rlci5jb21wb25lbnQuY3NzIn0= */\"]\n});","map":{"version":3,"sources":["C:/Users/stavsa/Documents/Angular-/clips/src/app/user/register/register.component.ts"],"names":["FormGroup","FormControl","Validators","i0","i1","i2","i3","i4","i5","i6","RegisterComponent_app_alert_0_Template","rf","ctx","ɵɵelementStart","ɵɵtext","ɵɵelementEnd","ctx_r0","ɵɵnextContext","ɵɵproperty","alertColor","ɵɵadvance","ɵɵtextInterpolate1","alertMsg","RegisterComponent","constructor","auth","db","isSubmission","name","required","minLength","email","age","min","max","password","pattern","confirm_password","phone","phoneNumber","maxLength","showAlert","registerForm","register","value","userCred","createUserWithEmailAndPassword","collection","add","e","console","error","ɵfac","RegisterComponent_Factory","t","ɵɵdirectiveInject","AngularFireAuth","AngularFirestore","ɵcmp","ɵɵdefineComponent","type","selectors","decls","vars","consts","template","RegisterComponent_Template","ɵɵtemplate","ɵɵlistener","RegisterComponent_Template_form_ngSubmit_1_listener","ɵɵelement","invalid","directives","NgIf","ɵNgNoValidate","NgControlStatusGroup","FormGroupDirective","InputComponent","AlertComponent","styles"],"mappings":"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","sourcesContent":["import { FormGroup, FormControl, Validators } from \"@angular/forms\";\r\nimport * as i0 from \"@angular/core\";\r\nimport * as i1 from \"@angular/fire/compat/auth\";\r\nimport * as i2 from \"@angular/fire/compat/firestore\";\r\nimport * as i3 from \"@angular/common\";\r\nimport * as i4 from \"@angular/forms\";\r\nimport * as i5 from \"../../shared/input/input.component\";\r\nimport * as i6 from \"../../shared/alert/alert.component\";\r\nfunction RegisterComponent_app_alert_0_Template(rf, ctx) { if (rf & 1) {\r\n    i0.ɵɵelementStart(0, \"app-alert\", 11);\r\n    i0.ɵɵtext(1);\r\n    i0.ɵɵelementEnd();\r\n} if (rf & 2) {\r\n    const ctx_r0 = i0.ɵɵnextContext();\r\n    i0.ɵɵproperty(\"color\", ctx_r0.alertColor);\r\n    i0.ɵɵadvance(1);\r\n    i0.ɵɵtextInterpolate1(\" \", ctx_r0.alertMsg, \"\\n\");\r\n} }\r\nexport class RegisterComponent {\r\n    constructor(auth, db) {\r\n        this.auth = auth;\r\n        this.db = db;\r\n        this.isSubmission = false;\r\n        this.name = new FormControl(\"\", [Validators.required, Validators.minLength(3)]);\r\n        this.email = new FormControl(\"\", [Validators.required, Validators.email]);\r\n        this.age = new FormControl(\"\", [\r\n            Validators.required,\r\n            Validators.min(18),\r\n            Validators.max(120),\r\n        ]);\r\n        this.password = new FormControl(\"\", [\r\n            Validators.required,\r\n            Validators.pattern(/^(?=.*\\d)(?=.*[a-z])(?=.*[A-Z])(?=.*[a-zA-Z]).{8,}$/gm),\r\n        ]);\r\n        this.confirm_password = new FormControl(\"\", [Validators.required]);\r\n        this.phone = new FormControl(\"\");\r\n        this.phoneNumber = new FormControl(\"\", [\r\n            Validators.required,\r\n            Validators.minLength(13),\r\n            Validators.maxLength(13),\r\n        ]);\r\n        this.showAlert = false;\r\n        this.alertMsg = \"Please wait! Your account is being created.\";\r\n        this.alertColor = \"blue\";\r\n        this.registerForm = new FormGroup({\r\n            name: this.name,\r\n            email: this.email,\r\n            age: this.age,\r\n            password: this.password,\r\n            confirm_password: this.confirm_password,\r\n            phone: this.phone,\r\n        });\r\n    }\r\n    async register() {\r\n        this.showAlert = true;\r\n        this.alertMsg = \"Please wait! Your account is being created.\";\r\n        this.alertColor = \"blue\";\r\n        this.isSubmission = true;\r\n        const { email, password } = this.registerForm.value;\r\n        try {\r\n            const userCred = await this.auth.createUserWithEmailAndPassword(email, password);\r\n            await this.db.collection('users').add({\r\n                name: this.name,\r\n                email: this.email.value,\r\n                age: this.age.value,\r\n                phoneNumber: this.phoneNumber.value\r\n            });\r\n        }\r\n        catch (e) {\r\n            console.error(e);\r\n            this.alertMsg = \"An unexpected error occurred. Please try again later!\";\r\n            this.alertColor = \"red\";\r\n            this.isSubmission = false;\r\n            return;\r\n        }\r\n        this.alertMsg = \"Success Your account has been created!\";\r\n        this.alertColor = \"green\";\r\n    }\r\n}\r\nRegisterComponent.ɵfac = function RegisterComponent_Factory(t) { return new (t || RegisterComponent)(i0.ɵɵdirectiveInject(i1.AngularFireAuth), i0.ɵɵdirectiveInject(i2.AngularFirestore)); };\r\nRegisterComponent.ɵcmp = /*@__PURE__*/ i0.ɵɵdefineComponent({ type: RegisterComponent, selectors: [[\"app-register\"]], decls: 28, vars: 9, consts: [[3, \"color\", 4, \"ngIf\"], [3, \"formGroup\", \"ngSubmit\"], [1, \"mb-3\"], [1, \"inline-block\", \"mb-2\"], [\"placeholder\", \"Enter Name\", 3, \"control\"], [\"placeholder\", \"Enter Email\", \"type\", \"email\", 3, \"control\"], [\"type\", \"number\", \"placeholder\", \"Enter Age\", 3, \"control\"], [\"type\", \"password\", \"placeholder\", \"Enter your password\", 3, \"control\"], [\"type\", \"password\", \"placeholder\", \"Confirm your password\", 3, \"control\"], [\"format\", \"(000)000-0000\", \"placeholder\", \"Enter your phone number\", 3, \"control\"], [\"type\", \"submit\", 1, \"block\", \"w-full\", \"bg-indigo-400\", \"text-white\", \"py-1.5\", \"px-3\", \"rounded\", \"transition\", \"hover:bg-indigo-500\", \"disabled:opacity-50\", \"disabled:bg-indigo-400\", 3, \"disabled\"], [3, \"color\"]], template: function RegisterComponent_Template(rf, ctx) { if (rf & 1) {\r\n        i0.ɵɵtemplate(0, RegisterComponent_app_alert_0_Template, 2, 2, \"app-alert\", 0);\r\n        i0.ɵɵelementStart(1, \"form\", 1);\r\n        i0.ɵɵlistener(\"ngSubmit\", function RegisterComponent_Template_form_ngSubmit_1_listener() { return ctx.register(); });\r\n        i0.ɵɵelementStart(2, \"div\", 2);\r\n        i0.ɵɵelementStart(3, \"label\", 3);\r\n        i0.ɵɵtext(4, \"Name\");\r\n        i0.ɵɵelementEnd();\r\n        i0.ɵɵelement(5, \"app-input\", 4);\r\n        i0.ɵɵelementEnd();\r\n        i0.ɵɵelementStart(6, \"div\", 2);\r\n        i0.ɵɵelementStart(7, \"label\", 3);\r\n        i0.ɵɵtext(8, \"Email\");\r\n        i0.ɵɵelementEnd();\r\n        i0.ɵɵelement(9, \"app-input\", 5);\r\n        i0.ɵɵelementEnd();\r\n        i0.ɵɵelementStart(10, \"div\", 2);\r\n        i0.ɵɵelementStart(11, \"label\", 3);\r\n        i0.ɵɵtext(12, \"Age\");\r\n        i0.ɵɵelementEnd();\r\n        i0.ɵɵelement(13, \"app-input\", 6);\r\n        i0.ɵɵelementEnd();\r\n        i0.ɵɵelementStart(14, \"div\", 2);\r\n        i0.ɵɵelementStart(15, \"label\", 3);\r\n        i0.ɵɵtext(16, \"Password\");\r\n        i0.ɵɵelementEnd();\r\n        i0.ɵɵelement(17, \"app-input\", 7);\r\n        i0.ɵɵelementEnd();\r\n        i0.ɵɵelementStart(18, \"div\", 2);\r\n        i0.ɵɵelementStart(19, \"label\", 3);\r\n        i0.ɵɵtext(20, \"Confirm Password\");\r\n        i0.ɵɵelementEnd();\r\n        i0.ɵɵelement(21, \"app-input\", 8);\r\n        i0.ɵɵelementEnd();\r\n        i0.ɵɵelementStart(22, \"div\", 2);\r\n        i0.ɵɵelementStart(23, \"label\", 3);\r\n        i0.ɵɵtext(24, \"Phone Number\");\r\n        i0.ɵɵelementEnd();\r\n        i0.ɵɵelement(25, \"app-input\", 9);\r\n        i0.ɵɵelementEnd();\r\n        i0.ɵɵelementStart(26, \"button\", 10);\r\n        i0.ɵɵtext(27, \" Submit \");\r\n        i0.ɵɵelementEnd();\r\n        i0.ɵɵelementEnd();\r\n    } if (rf & 2) {\r\n        i0.ɵɵproperty(\"ngIf\", ctx.showAlert);\r\n        i0.ɵɵadvance(1);\r\n        i0.ɵɵproperty(\"formGroup\", ctx.registerForm);\r\n        i0.ɵɵadvance(4);\r\n        i0.ɵɵproperty(\"control\", ctx.name);\r\n        i0.ɵɵadvance(4);\r\n        i0.ɵɵproperty(\"control\", ctx.email);\r\n        i0.ɵɵadvance(4);\r\n        i0.ɵɵproperty(\"control\", ctx.age);\r\n        i0.ɵɵadvance(4);\r\n        i0.ɵɵproperty(\"control\", ctx.password);\r\n        i0.ɵɵadvance(4);\r\n        i0.ɵɵproperty(\"control\", ctx.confirm_password);\r\n        i0.ɵɵadvance(4);\r\n        i0.ɵɵproperty(\"control\", ctx.phone);\r\n        i0.ɵɵadvance(1);\r\n        i0.ɵɵproperty(\"disabled\", ctx.registerForm.invalid || ctx.isSubmission);\r\n    } }, directives: [i3.NgIf, i4.ɵNgNoValidate, i4.NgControlStatusGroup, i4.FormGroupDirective, i5.InputComponent, i6.AlertComponent], styles: [\"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJyZWdpc3Rlci5jb21wb25lbnQuY3NzIn0= */\"] });\r\n"]},"metadata":{},"sourceType":"module"}